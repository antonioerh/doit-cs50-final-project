{% extends "layout.html" %}

{% block title %}
    Exercises - Striation
{% endblock %}

{% block main %}
<div class="container mt-5">

    <form action="/exercises" method="get">
        <div class="d-flex align-items-end gap-3 my-3 flex-wrap">

        <select class="form-select w-auto" name="equipment" onchange="this.form.submit()">
            <option value="">All equipments</option>
            {% for equipment in equipments %}
            <option value="{{ equipment.id }}"
                {% if request.args.get('equipment') == (equipment.id|string) %}selected{% endif %}>
                {{ equipment.name }}
            </option>
            {% endfor %}
        </select>

        <select class="form-select w-auto" name="muscle" onchange="this.form.submit()">
            <option value="">All muscles</option>
            {% for muscle in muscles %}
            <option value="{{ muscle.id }}"
                {% if request.args.get('muscle') == (muscle.id|string) %}selected{% endif %}>
                {{ muscle.name }}
            </option>
            {% endfor %}
        </select>

        </div>
    </form>

    <hr>

    <h4 class="fw-normal">Exercises</h4>

    {% if exercises %}
        <div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 g-3 mt-3">
            {% for exercise in exercises %}
                <div class="col">
                    <div class="card h-100 shadow-sm">
                        <div class="card-body">
                            <h5 class="card-title">{{ exercise.exercise_name }}</h5>
                            <p class="card-text mb-1">
                                <strong>Muscle:</strong> {{ exercise.muscle_name }}
                            </p>
                            <p class="card-text mb-0">
                                <strong>Equipment:</strong> {{ exercise.equipment_name }}
                            </p>
                        </div>
                    </div>
                </div>
            {% endfor %}
        </div>
    {% else %}
        <p class="text-muted mt-3">No exercises found. Try another filter.</p>
    {% endif %}

    <footer>
        <p></p>
    </footer>

</div>
    
{% endblock %}